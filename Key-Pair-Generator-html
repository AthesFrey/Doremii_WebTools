<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <title>Base64URL-X25519-KEYS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- 本地托管的 TweetNaCl -->
  <script src="/wp-content/uploads/tweetnacl-fast-1.0.3.min.js"></script>

  <!-- 我们自己的生成器脚本 -->
  <script src="/wp-content/uploads/x25519-keygen.js"></script>

  <style>
    :root {
      /* 橘色系 */
      --accent: #ff9f1a;
      --accent-soft: #ffe4ba;

      /* 页面背景改回白色 */
      --bg-page: #ffffff;       /* ★ 这里从 #fff5e7 改为 #ffffff */

      --card-bg: #fffaf3;       /* 模块背景仍然是浅橘 */
      --mono-bg: #ffffff;       /* 结果区域白色 */

      --text-color: #222;
      --text-muted: #666;
      --border-radius: 12px;
      --btn-height: 32px;
      --font-main: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      --font-mono: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    body {
      font-family: var(--font-main);
      background: var(--bg-page);   /* ★ 这里保持用变量，实际就是白色 */
      margin: 0;
      padding: 24px;
      color: var(--text-color);
    }

    h2 {
      font-size: 20px;
      margin: 0 0 16px;
      text-align: center;
      color: #ff8800;
    }

    .x-card {
      max-width: 425px;
      margin: 0 auto;
      background: var(--card-bg);  /* 模块还是浅橘 */
      border-radius: var(--border-radius);
      padding: 16px 18px 18px;
      box-shadow: 0 4px 12px rgba(255, 149, 0, 0.15);
      border: 1px solid var(--accent-soft);
    }

    .x-sub {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .x-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 8px;
      flex-wrap: wrap;
    }

    .x-label {
      min-width: 110px;
      font-size: 13px;
      color: var(--text-muted);
    }

    .x-result {
      flex: 1;
      min-height: var(--btn-height);
      background: var(--mono-bg);
      border-radius: 999px;
      padding: 6px 12px;
      font-family: var(--font-mono);
      font-size: 13px;
      line-height: 1.3;
      word-break: break-all;
      box-sizing: border-box;
      display: flex;
      align-items: center;
    }

    .x-mono {
      font-family: var(--font-mono);
    }

    button {
      height: var(--btn-height);
      padding: 0 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      font-size: 13px;
      cursor: pointer;
      white-space: nowrap;
      transition: background 0.15s ease, color 0.15s ease,
                  border-color 0.15s ease, transform 0.05s ease;
      font-family: var(--font-main);
    }

    .x-btn-main {
      background: var(--accent);
      border-color: var(--accent);
      color: #fff;
    }

    .x-btn-main:hover {
      filter: brightness(1.05);
      transform: translateY(-0.5px);
    }

    .x-btn-main:active {
      transform: translateY(0);
      filter: brightness(0.97);
    }

    .x-btn-ghost {
      background: #fff7eb;
      border-color: var(--accent-soft);
      color: #ff8a00;
    }

    .x-btn-ghost:hover {
      border-color: var(--accent);
      background: #ffe9cf;
    }

    .x-hist {
      margin-top: 8px;
      font-size: 12px;
    }

    .x-hist-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 4px;
      flex-wrap: wrap;
    }

    .x-hist-index {
      width: 1.5em;
      text-align: right;
      color: var(--text-muted);
    }

    .x-hist-text {
      flex: 1;
      word-break: break-all;
      font-family: var(--font-mono);
    }
  </style>
</head>
<body>

  <h2>Base64URL-X25519-密钥生成器</h2>

  <div class="x-card" id="x25519-card">
    <div class="x-sub">
      私钥：Base64URL（43 字符），公钥使用 X25519（<code>nacl.scalarMult.base</code>）推导。
    </div>

    <div class="x-row">
      <div class="x-label">操作</div>
      <button class="x-btn-main" id="x-generate">Generate</button>
    </div>

    <div class="x-row">
      <div class="x-label">Private key</div>
      <div class="x-result x-mono" id="x-priv"></div>
      <button class="x-btn-ghost" id="x-copy-priv">Copy</button>
    </div>

    <div class="x-row">
      <div class="x-label">Public key</div>
      <div class="x-result x-mono" id="x-pub"></div>
      <button class="x-btn-ghost" id="x-copy-pub">Copy</button>
    </div>

    <div class="x-row" style="margin-top:12px;">
      <div class="x-label">results:</div>
    </div>
    <div class="x-hist" id="x-hist"></div>
  </div>

</body>
</html>
