<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>时刻间隔（天/小时）计算器</title>
  <script src="/wp-content/uploads/time-diff-tool.js?v=20260128B" defer></script>

  <style>
    /* 工具命名空间：尽量隔离主题样式 + 固定居中布局 */
    .tdt{
      all: revert;
      display:flex;
      justify-content:center;
      padding:14px;
      width:100vw;
      margin-inline:calc(50% - 50vw);
      overflow-x:hidden;

      font:14px/1.25 -apple-system,BlinkMacSystemFont,"Segoe UI","PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;
      -webkit-text-size-adjust:100%;
      text-size-adjust:100%;

      --accent:#2563eb;
      --bg:#f5f7fb;
      --card:#fff;
      --border:#dbe3f0;
      --text:#0f172a;
      --muted:#64748b;
      --mono: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
      --h:44px;

      background:var(--bg);
      color:var(--text);
    }

    html[data-theme="dark"] .tdt{
      --bg:#0b1220;
      --card:#0f1a2f;
      --border:#22314f;
      --text:#e5e7eb;
      --muted:#9ca3af;
      --accent:#60a5fa;
    }
    @media (prefers-color-scheme: dark){
      html:not([data-theme="light"]) .tdt{
        --bg:#0b1220;
        --card:#0f1a2f;
        --border:#22314f;
        --text:#e5e7eb;
        --muted:#9ca3af;
        --accent:#60a5fa;
      }
    }

    .tdt, .tdt :where(*, *::before, *::after){ box-sizing:border-box; }

    .tdt-card{
      width:520px;
      max-width:calc(100vw - 28px);
      margin:0 auto;

      background:var(--card);
      border:1px solid var(--border);
      border-radius:16px;
      padding:16px;
      box-shadow:0 10px 30px rgba(0,0,0,.06);
    }

    .tdt-title{
      text-align:center;
      font-size:22px;
      font-weight:700;
      color:var(--accent);
      letter-spacing:.2px;
      margin:2px 0 12px;
    }

    .tdt-section{ margin:0 0 14px; }
    .tdt-field{
      display:grid;
      grid-template-columns:92px 1fr;
      gap:12px;
      align-items:start;
    }
    .tdt-label{
      font-size:14px;
      font-weight:600;
      color:var(--muted);
      padding-top:10px;
      margin:0;
    }

    .tdt-dt{
      width:100%;
      height:var(--h);
      min-height:var(--h);
      padding:10px 12px;

      border-radius:12px;
      border:1px solid var(--border);
      background:transparent;
      color:var(--text);

      font-size:16px; /* iOS 聚焦不放大 + 比例协调 */
      line-height:1.2;
      outline:none;
    }
    .tdt-dt:focus{
      border-color:color-mix(in srgb, var(--accent) 60%, var(--border));
      box-shadow:0 0 0 3px color-mix(in srgb, var(--accent) 18%, transparent);
    }
    .tdt-dt::-webkit-calendar-picker-indicator{
      width:18px;
      height:18px;
      opacity:.9;
      cursor:pointer;
    }

    .tdt-controls{
      display:flex;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
      margin-top:10px;
    }

    .tdt-btn{
      height:var(--h);
      min-height:var(--h);
      padding:0 14px;

      border:1px solid var(--border);
      border-radius:12px;

      background:var(--accent);
      color:#fff;

      cursor:pointer;
      font-size:15px;
      font-weight:600;
      white-space:nowrap;
    }
    .tdt-btn:active{ transform:translateY(1px); }
    .tdt-btn.tdt-secondary{ background:transparent; color:var(--text); }

    .tdt-chk{
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-size:14px;
      color:var(--muted);
      margin:0;
      user-select:none;
    }
    .tdt-chk input[type="checkbox"]{ width:18px; height:18px; margin:0; }

    .tdt-hr{ height:1px; background:var(--border); margin:10px 0 12px; }

    .tdt-result{
      border:1px dashed var(--border);
      background:color-mix(in srgb, var(--accent) 6%, transparent);
      border-radius:14px;
      padding:12px;
    }
    .tdt-big{ font-size:20px; font-weight:800; margin:0 0 6px; }
    .tdt-small{ font-size:13px; color:var(--muted); line-height:1.35; }
    .tdt-mono{ font-family:var(--mono); }

    .tdt-footer{
      margin-top:10px;
      font-size:13px;
      color:var(--muted);
      text-align:center;
    }

    @media (max-width:560px){
      .tdt-field{ grid-template-columns:1fr; gap:8px; }
      .tdt-label{ padding-top:0; }
      .tdt-controls{ margin-top:8px; }
      .tdt-title{ font-size:20px; }
    }
  </style>
</head>

<body>
  <div class="tdt">
    <div class="tdt-card">
      <div class="tdt-title">时刻间隔（天 / 小时）计算器</div>

      <div class="tdt-section">
        <div class="tdt-field">
          <div class="tdt-label">起点时刻</div>
          <div>
            <input id="start" class="tdt-dt" type="datetime-local" />
            <div class="tdt-controls">
              <button id="startNow" class="tdt-btn" type="button">设为当前</button>
              <label class="tdt-chk">
                <input id="startFollow" type="checkbox" /> 跟随当前
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="tdt-section">
        <div class="tdt-field">
          <div class="tdt-label">终点时刻</div>
          <div>
            <input id="end" class="tdt-dt" type="datetime-local" />
            <div class="tdt-controls">
              <button id="endNow" class="tdt-btn" type="button">设为当前</button>
              <label class="tdt-chk">
                <input id="endFollow" type="checkbox" /> 跟随当前
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="tdt-section">
        <div class="tdt-field">
          <div class="tdt-label">操作</div>
          <div class="tdt-controls">
            <button id="swap" class="tdt-btn tdt-secondary" type="button">交换起点/终点</button>
            <button id="copy" class="tdt-btn tdt-secondary" type="button">复制结果</button>
          </div>
        </div>
      </div>

      <div class="tdt-hr"></div>

      <div class="tdt-result" id="resultBox">
        <div class="tdt-big" id="mainLine">请先选择两个时刻</div>
        <div class="tdt-small" id="subLine"></div>
        <div class="tdt-small tdt-mono" id="detailLine"></div>
      </div>

      <div class="tdt-footer">说明：按“终点 - 起点”计算；为正表示“剩余”，为负表示“已过”。</div>
    </div>
  </div>
</body>
</html>

